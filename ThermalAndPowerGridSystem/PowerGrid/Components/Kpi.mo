within ThermalAndPowerGridSystem.PowerGrid.Components;

model Kpi

  extends Icons.Kpi_Icon;
  
  import SI = Modelica.Units.SI;
  import nSI = Modelica.Units.NonSI;
  
  Real GridPowerRatio;
  Real StoragePowerRatio;
  Real GenerationPowerRatio;
  Real StorageEffectiveness;
  Real GenerationEffectiveness;

  SI.Power powerTransferedFromGrid, powerTransferedToGrid;
  SI.Power powerTransferedFromStorage, powerTransferedToStorage;
  
  nSI.Energy_Wh windGeneratedEnergy "Generated Electrical Energy (Whr)";
  nSI.Energy_Wh solarGeneratedEnergy "Generated Electrical Energy (Whr)";
  
  nSI.Energy_Wh domesticDemandEnergy "Domestic demand as energy (Whr)";
  nSI.Energy_Wh ChargStationDemandEnergy "Charging station energy demand (Whr)";
  
  nSI.Energy_Wh conventionalGridFromEnergy "Transfered energy from Conventional Grid to Demand (Whr)";
  nSI.Energy_Wh conventionalGridToEnergy "Transfered energy to Conventional Grid from Generation(Whr)";
  
  nSI.Energy_Wh totalStorageEnergy, avgStorageEnergy;
 
  SI.Power totalWindGeneratedPower, totalSolarGeneratedPower, totalTranseferedPowerFromConventionalGrid, totalTranseferedPowerToConventionalGrid, totalDomesticDemandPower, totalChargingStationDemandPower, totalTransferedPowerFromStorage, totalTransferedPowerToStorage;

  SI.Power avgWindGeneratedPower, avgSolarGeneratedPower, avgTranseferedPowerFromConventionalGrid, avgTranseferedPowerToConventionalGrid, avgDomesticDemandPower, avgChargingStationDemandPower, avgTransferedPowerFromStorage, avgTransferedPowerToStorage;
  
  Modelica.Blocks.Interfaces.RealInput StorageEnergy annotation(
    Placement(visible = true, transformation(origin = {-98, -54}, extent = {{-20, -20}, {20, 20}}, rotation = 0), iconTransformation(origin = {-60, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
  Modelica.Blocks.Interfaces.RealInput StorageCapacity annotation(
    Placement(visible = true, transformation(origin = {-98, -80}, extent = {{-20, -20}, {20, 20}}, rotation = 0), iconTransformation(origin = {-80, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
  Modelica.Blocks.Interfaces.RealInput windGeneratedPowerIn annotation(
    Placement(visible = true, transformation(origin = {-58, -100}, extent = {{-20, -20}, {20, 20}}, rotation = 90), iconTransformation(origin = {40, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
  Modelica.Blocks.Interfaces.RealInput solarGeneratedPowerIn annotation(
    Placement(visible = true, transformation(origin = {-30, -100}, extent = {{-20, -20}, {20, 20}}, rotation = 90), iconTransformation(origin = {20, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
  Modelica.Blocks.Interfaces.RealInput conventionalGridPowerIn annotation(
    Placement(visible = true, transformation(origin = {-2, -100}, extent = {{-20, -20}, {20, 20}}, rotation = 90), iconTransformation(origin = {80, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
  Modelica.Blocks.Interfaces.RealInput domesticDemandPowerIn annotation(
    Placement(visible = true, transformation(origin = {24, -100}, extent = {{-20, -20}, {20, 20}}, rotation = 90), iconTransformation(origin = {-20, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
  Modelica.Blocks.Interfaces.RealInput ChargingStationDemandPowerIn annotation(
    Placement(visible = true, transformation(origin = {54, -100}, extent = {{-20, -20}, {20, 20}}, rotation = 90), iconTransformation(origin = {-40, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));
 
  Modelica.Blocks.Interfaces.RealInput storagePowerIn annotation(
    Placement(visible = true, transformation(origin = {-98, 0}, extent = {{-20, -20}, {20, 20}}, rotation = 0), iconTransformation(origin = {60, -110}, extent = {{-10, -10}, {10, 10}}, rotation = 90)));

algorithm

  if conventionalGridPowerIn > 0 then
    powerTransferedToGrid:= conventionalGridPowerIn;
  else
    powerTransferedFromGrid := -conventionalGridPowerIn;
  end if;
  
  if storagePowerIn > 0 then
    powerTransferedToStorage:= storagePowerIn;
  else
    powerTransferedFromStorage := -storagePowerIn;
  end if;
  
  GridPowerRatio := powerTransferedFromGrid/(domesticDemandPowerIn + ChargingStationDemandPowerIn);
  StoragePowerRatio := powerTransferedFromStorage / (domesticDemandPowerIn + ChargingStationDemandPowerIn);
  GenerationPowerRatio := (windGeneratedPowerIn+solarGeneratedPowerIn)/(domesticDemandPowerIn + ChargingStationDemandPowerIn);
  StorageEffectiveness := avgStorageEnergy/StorageCapacity;
  GenerationEffectiveness := ((domesticDemandPowerIn + ChargingStationDemandPowerIn) - (windGeneratedPowerIn+solarGeneratedPowerIn))/(domesticDemandPowerIn + ChargingStationDemandPowerIn);
  
  windGeneratedEnergy := totalWindGeneratedPower / 3600;
  solarGeneratedEnergy := totalSolarGeneratedPower / 3600;
  domesticDemandEnergy := totalDomesticDemandPower / 3600;
  ChargStationDemandEnergy := totalChargingStationDemandPower / 3600;

equation

  der(totalWindGeneratedPower) = windGeneratedPowerIn;
  der(totalSolarGeneratedPower) = solarGeneratedPowerIn;
  der(totalTranseferedPowerFromConventionalGrid) = powerTransferedFromGrid;
  der(totalTranseferedPowerToConventionalGrid) = powerTransferedToGrid;
  der(totalDomesticDemandPower) = domesticDemandPowerIn;
  der(totalChargingStationDemandPower) = ChargingStationDemandPowerIn;
  der(totalTransferedPowerFromStorage) = powerTransferedFromStorage;
  der(totalTransferedPowerToStorage) = powerTransferedToStorage;
  
  der(conventionalGridFromEnergy) = powerTransferedFromGrid / 3600;
  der(conventionalGridToEnergy) = powerTransferedToGrid / 3600;
  
  der(totalStorageEnergy) = StorageEnergy;
  
  when terminal() then
  
     avgStorageEnergy = totalStorageEnergy/time;
     avgWindGeneratedPower = totalWindGeneratedPower/time;
     avgSolarGeneratedPower = totalSolarGeneratedPower/time;
     avgTranseferedPowerFromConventionalGrid = totalTranseferedPowerFromConventionalGrid/time;
     avgTranseferedPowerToConventionalGrid = totalTranseferedPowerToConventionalGrid/time;
     avgDomesticDemandPower = totalDomesticDemandPower/time;
     avgChargingStationDemandPower = totalChargingStationDemandPower/time;
     avgTransferedPowerFromStorage = totalTransferedPowerFromStorage/time;
     avgTransferedPowerToStorage = totalTransferedPowerToStorage/time;
     
  end when;
  
protected

annotation(
    Icon(graphics = {Bitmap(extent = {{-38, 30}, {-38, 30}}, imageSource = "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")}),
    Diagram(graphics = {Rectangle(origin = {1, 0}, extent = {{-79, 80}, {79, -80}})}),
 Documentation(info = "<html><head></head><body>This components will contain key performance indicator such as :<!--EndFragment--><div><br></div><div><ul><li>Grid Power Ratio, which is calculated as ratio of Power Supplied from Grid and Total Demand Power.</li><li>Generation Power Ratio, which is calculated as ratio of Available Generated Power and Total Demand Power.</li><li>Storage Power Ratio, which is calculated as ratio of Power Supplied from Storage and Total Demand Power.</li><li>Generation Effectiveness, which is calculated as ratio of (Total Demand Power - Available Generated Power) and Total Demand Power.</li><li>Storage Effectiveness, which is calculated as ratio of Average Storage Energy and Storage Capacity.</li></ul></div></body></html>"));
end Kpi;
